% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_load_ms.R
\name{load_ms}
\alias{load_ms}
\title{load_ms}
\usage{
load_ms(path, bd)
}
\arguments{
\item{path}{Character. Path to the MS data file.}

\item{bd}{A dataframe containing reactor information.}
}
\value{
A dataframe containing the processed MS data with merged event details, including:
- `time_absolute_date_time`: The timestamp of the MS reading.
- `time`: Time difference (in minutes) between the MS reading and the event start.
- `event`: The event identifier.
- `tic_300_pv`: Interpolated reactor data.
- Other columns from the MS data file, cleaned and processed.
}
\description{
Reads an MS data file, processes it, and merges it with an
experimental database (`bd`) to associate mass spectrometry readings with events.
}
\details{
The function performs the following steps:
- Expands the `bd` dataframe to include one-second intervals for each row.
- Interpolates missing values in the `tic_300_pv` column using linear approximation.
- Summarizes the `bd` dataframe to calculate event start and end times.
- Reads the MS data file, cleans column names, and selects relevant columns.
- Converts the `time_absolute_date_time` column to a datetime format.
- Merges the MS data with the expanded `bd` dataframe based on time intervals.
- Fills missing event values and calculates the time difference between MS readings and event start times.
- Reorganizes and cleans the final dataframe for output.
}
